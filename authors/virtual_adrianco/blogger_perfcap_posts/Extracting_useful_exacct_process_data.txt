Title: Extracting useful exacct process data
URL: https://perfcap.blogspot.com/2005/03/extracting-useful-exacct-process-data.html

I modified the /usr/demo/libexacct/exdump.c example code to include the data structures described in previous posts, and made the code update each item in the structure. Then I added a printf from the data structure so I could check that all the data is being captured correctly. Part of the output is shown below. I hand edited the column headers a bit for the first two lines to make them line up.<br /><br /><pre><br /><span style="font-size:85%;">procid ppid uid  usr  sys time      majf minf rwKB     vcxK   icxK sigK sycK  arMB mrMB command<br />1693  1679 100 40.23 3.53 416930.11 237    0 58745.32 261.17 4.22 0.00 801.7 38.4 44.6 mozilla-bin<br />procid ppid uid  usr  sys time      majf minf rwKB    vcxK icxK sigK sycK arMB mrMB command<br />1679  1647 100 0.00 0.00 416930.16    0    0 15.11   0.02 0.00 0.00  0.6  0.6 26.4 run-mozilla.sh<br />procid ppid uid  usr  sys time      majf minf rwKB vcxK icxK sigK sycK arMB mrMB command<br />1647  1646 100 0.00 0.01 416930.30    0    0 8.29 0.03 0.00 0.00  0.8  0.4 26.4 mozilla</span><br /></pre><br /><br />Running the modified exdump with the -v option shows the data objects in detail so I can check that the right data is appearing in the right place. Here is the same data as the second line above. It looks as if the minor faults counter really is zero, which is probably a Solaris bug.<br /><br /><pre><br /><span style="font-size:85%;">   100  group-proc                      [group of 35 object(s)]<br /> 1000   pid                            1679<br /> 1001   uid                            100<br /> 1002   gid                            10             staff<br /> 1004   projid                         10             group.staff<br /> 1003   taskid                         54<br /> 100b   cpu-user-sec                   0<br /> 100c   cpu-user-nsec                  2861447<br /> 100d   cpu-sys-sec                    0<br /> 100e   cpu-sys-nsec                   4150875<br /> 1007   start-sec                      1109810711     03/02/05 16:45:11<br /> 1008   start-nsec                     813223175<br /> 1009   finish-sec                     1110227641     03/07/05 12:34:01<br /> 100a   finish-nsec                    968607249<br /> 1006   command                        "run-mozilla.sh"<br /> 100f   tty-major                      4294967295<br /> 1010   tty-minor                      4294967295<br /> 1005   hostname                       "crun"<br /> 1011   faults-major                   0<br /> 1012   faults-minor                   0<br /> 1014   msgs-snd                       0<br /> 1013   msgs-recv                      0<br /> 1015   blocks-in                      0<br /> 1016   blocks-out                     0<br /> 1017   chars-rdwr                     15105<br /> 1018   ctxt-vol                       21<br /> 1019   ctxt-inv                       0<br /> 101a   signals                        0<br /> 101b   swaps                          0<br /> 101c   syscalls                       586<br /> 101d   acctflags                      0<br /> 101f   ppid                           1647<br /> 1020   wait-status                    0              exit<br /> 1021   zone                           "global"<br /> 1022   memory-rss-avg-k               584<br /> 1023   memory-rss-max-k               27004<br />procid ppid uid  usr  sys time      majf minf rwKB  vcxK icxK sigK sycK arMB mrMB command<br />1679  1647 100 0.00 0.00 416930.16    0    0 15.11 0.02 0.00 0.00  0.6  0.6 26.4 run-mozilla.sh</span><br /></pre>