Title: AMD Enhanced Power Now - Variable Cores and Clock Rates
URL: https://perfcap.blogspot.com/2007/02/amd-enhanced-power-now-variable-cores.html

There is an interesting <a href="http://www.theregister.co.uk/2007/02/11/amd_enhanced_powernow/">article in The Register about the latest variant of AMD's enterprise power management system</a>.<br /><br />As <a href="http://perfcap.blogspot.com/2006/06/cpu-power-management.html">I've mentioned before</a>,  in the interests of saving power, some enterprise server systems are varying their clock rates so that they end up showing a higher utilization at low load levels that you would expect. This non-linear relationship of load to utilization is one of the things I highlighted in my CMG06 paper called "Utilization is virtually useless as a metric".<br /><br />The latest twist: in AMD's upcoming four core systems, individual cores will be stopped completely if there isn't enough work for them to do.<br /><br />The effect on utilization metrics will depend upon how each operating system interacts with the power management capabilities...<br /><br />For Solaris the so-called "idle loop" is actually quite busy. An idle CPU watches its neighbors to see if they have too many jobs on their run queues, and gets work by migrating processes that won't get to run soon to itself. Interrupts are also bound to individual CPUs, so that data structures don't have to migrate between caches at high interrupt rates.<br /><br />It will be interesting to see how these technologies interact.<br /><br />Adrian